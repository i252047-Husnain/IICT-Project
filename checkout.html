<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-slate-100">
    <div class="max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8">
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-4xl text-slate-900 font-bold">Checkout</h1>
            <p class="text-slate-600 mt-2">Complete your purchase</p>
        </div>

        <!-- Progress Steps -->
        <div class="mb-8 flex items-center justify-center gap-4">
            <div class="flex items-center">
                <div id="step1-circle" class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-600 text-white font-semibold">
                    1
                </div>
                <span id="step1-text" class="ml-2 text-slate-900">Shipping</span>
            </div>
            <div class="w-16 h-0.5 bg-slate-300"></div>
            <div class="flex items-center">
                <div id="step2-circle" class="w-8 h-8 rounded-full flex items-center justify-center bg-slate-300 text-slate-600 font-semibold">
                    2
                </div>
                <span id="step2-text" class="ml-2 text-slate-500">Payment</span>
            </div>
        </div>

        <!-- Main Content -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Forms Section -->
            <div class="lg:col-span-2">
                <!-- Shipping Form -->
                <div id="shipping-form" class="bg-white rounded-2xl shadow-lg p-8">
                    <div class="flex items-center gap-3 mb-6">
                        <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                        </svg>
                        <h2 class="text-2xl text-slate-900 font-semibold">Shipping Information</h2>
                    </div>

                    <form id="shippingFormElement" class="space-y-6">
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div>
                                <label for="firstName" class="block text-slate-700 mb-2">First Name</label>
                                <input type="text" id="firstName" name="firstName" required
                                    class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                            <div>
                                <label for="lastName" class="block text-slate-700 mb-2">Last Name</label>
                                <input type="text" id="lastName" name="lastName" required
                                    class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                        </div>

                        <div>
                            <label for="email" class="block text-slate-700 mb-2">Email Address</label>
                            <input type="email" id="email" name="email" required
                                class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>

                        <div>
                            <label for="address" class="block text-slate-700 mb-2">Street Address</label>
                            <input type="text" id="address" name="address" required
                                class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>

                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <div>
                                <label for="city" class="block text-slate-700 mb-2">City</label>
                                <input type="text" id="city" name="city" required
                                    class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                            <div>
                                <label for="state" class="block text-slate-700 mb-2">State</label>
                                <input type="text" id="state" name="state" required
                                    class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                            <div>
                                <label for="zipCode" class="block text-slate-700 mb-2">ZIP Code</label>
                                <input type="text" id="zipCode" name="zipCode" required
                                    class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                        </div>

                        <div>
                            <label for="country" class="block text-slate-700 mb-2">Country</label>
                            <select id="country" name="country"
                                class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option>United States</option>
                                <option>Canada</option>
                                <option>United Kingdom</option>
                                <option>Australia</option>
                            </select>
                        </div>

                        <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 rounded-lg transition-colors">
                            Continue to Payment
                        </button>
                    </form>
                </div>

                <!-- Payment Form -->
                <div id="payment-form" class="bg-white rounded-2xl shadow-lg p-8 hidden">
                    <div class="flex items-center gap-3 mb-6">
                        <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                        </svg>
                        <h2 class="text-2xl text-slate-900 font-semibold">Payment Details</h2>
                    </div>

                    <form id="paymentFormElement" class="space-y-6">
                        <div>
                            <label class="block text-slate-700 mb-3">Select Payment Method</label>
                            <div class="grid grid-cols-2 gap-3">
                                <button type="button" onclick="selectPaymentMethod('card')" id="btn-card"
                                    class="flex items-center justify-center gap-2 p-4 rounded-lg border-2 border-blue-600 bg-blue-50 transition-all">
                                    Card
                                </button>
                                <button type="button" onclick="selectPaymentMethod('paypal')" id="btn-paypal"
                                    class="flex items-center justify-center gap-2 p-4 rounded-lg border-2 border-slate-200 hover:border-slate-300 transition-all">
                                    PayPal
                                </button>
                                <button type="button" onclick="selectPaymentMethod('apple')" id="btn-apple"
                                    class="flex items-center justify-center gap-2 p-4 rounded-lg border-2 border-slate-200 hover:border-slate-300 transition-all">
                                    Apple Pay
                                </button>
                                <button type="button" onclick="selectPaymentMethod('google')" id="btn-google"
                                    class="flex items-center justify-center gap-2 p-4 rounded-lg border-2 border-slate-200 hover:border-slate-300 transition-all">
                                    Google Pay
                                </button>
                            </div>
                        </div>

                        <div id="card-fields">
                            <div>
                                <label for="cardNumber" class="block text-slate-700 mb-2">Card Number</label>
                                <input type="text" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456" required
                                    class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>

                            <div class="mt-6">
                                <label for="cardName" class="block text-slate-700 mb-2">Cardholder Name</label>
                                <input type="text" id="cardName" name="cardName" placeholder="John Doe" required
                                    class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>

                            <div class="grid grid-cols-2 gap-4 mt-6">
                                <div>
                                    <label for="expiryDate" class="block text-slate-700 mb-2">Expiry Date</label>
                                    <input type="text" id="expiryDate" name="expiryDate" placeholder="MM/YY" required
                                        class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="cvv" class="block text-slate-700 mb-2">CVV</label>
                                    <input type="text" id="cvv" name="cvv" placeholder="123" required
                                        class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                            </div>
                        </div>

                        <div class="flex gap-4">
                            <button type="button" onclick="goBackToShipping()"
                                class="flex items-center justify-center gap-2 px-6 py-4 rounded-lg border border-slate-300 hover:bg-slate-50 transition-colors">
                                Back
                            </button>
                            <button type="submit"
                                class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 rounded-lg transition-colors">
                                Complete Order
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Order Summary Section -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-2xl shadow-lg p-6 sticky top-8">
                    <div class="flex items-center gap-3 mb-6">
                        <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                        </svg>
                        <h2 class="text-xl text-slate-900 font-semibold">Order Summary</h2>
                    </div>

                    <!-- Items List -->
                    <div id="cart-items" class="space-y-4 mb-6 pb-6 border-b border-slate-200"></div>

                    <!-- Pricing Breakdown -->
                    <div class="space-y-3 mb-6 pb-6 border-b border-slate-200">
                        <div class="flex justify-between text-slate-600">
                            <span>Subtotal</span>
                            <span class="subtotal">$0.00</span>
                        </div>
                        <div class="flex justify-between text-slate-600">
                            <span>Shipping</span>
                            <span class="shipping">$0.00</span>
                        </div>
                        <div class="flex justify-between text-slate-600">
                            <span>Tax</span>
                            <span class="tax">$0.00</span>
                        </div>
                    </div>

                    <!-- Total -->
                    <div class="flex justify-between items-center">
                        <span class="text-xl text-slate-900 font-semibold">Total</span>
                        <span class="text-2xl text-slate-900 font-bold total">$0.00</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        let currentPaymentMethod = 'card';

        // Shipping form submission
        document.getElementById('shippingFormElement').addEventListener('submit', function(e) {
            e.preventDefault();
            document.getElementById('shipping-form').classList.add('hidden');
            document.getElementById('payment-form').classList.remove('hidden');
            document.getElementById('step2-circle').classList.remove('bg-slate-300', 'text-slate-600');
            document.getElementById('step2-circle').classList.add('bg-blue-600', 'text-white');
            document.getElementById('step2-text').classList.remove('text-slate-500');
            document.getElementById('step2-text').classList.add('text-slate-900');
        });

        // Payment form submission
        document.getElementById('paymentFormElement').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Order placed successfully! This is a demo - no actual payment was processed.');
            localStorage.removeItem('cart'); // Clear cart after order
        });

        function goBackToShipping() {
            document.getElementById('payment-form').classList.add('hidden');
            document.getElementById('shipping-form').classList.remove('hidden');
            document.getElementById('step2-circle').classList.add('bg-slate-300', 'text-slate-600');
            document.getElementById('step2-circle').classList.remove('bg-blue-600', 'text-white');
            document.getElementById('step2-text').classList.add('text-slate-500');
            document.getElementById('step2-text').classList.remove('text-slate-900');
        }

        function selectPaymentMethod(method) {
            currentPaymentMethod = method;
        }

        function renderCart() {
            const cartItemsContainer = document.getElementById('cart-items');
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            let subtotal = 0;
            cartItemsContainer.innerHTML = '';

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p class="text-slate-500">Your cart is empty.</p>';
                return;
            }

            cart.forEach(item => {
                subtotal += item.price * item.qty;
                const itemDiv = document.createElement('div');
                itemDiv.className = 'flex gap-4';
                itemDiv.innerHTML = `
                    <div class="w-16 h-16 rounded-lg bg-slate-100 overflow-hidden flex-shrink-0">
                        <img src="${item.img}" alt="${item.name}" class="w-full h-full object-cover">
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3 class="text-slate-900 font-medium truncate">${item.name}</h3>
                        <p class="text-slate-500 text-sm">Qty: ${item.qty}</p>
                    </div>
                    <div class="text-slate-900 font-medium">$${(item.price * item.qty).toFixed(2)}</div>
                `;
                cartItemsContainer.appendChild(itemDiv);
            });

            const shipping = cart.length ? 8.99 : 0;
            const tax = subtotal * 0.08;
            const total = subtotal + shipping + tax;

            document.querySelector('.subtotal').textContent = `$${subtotal.toFixed(2)}`;
            document.querySelector('.shipping').textContent = `$${shipping.toFixed(2)}`;
            document.querySelector('.tax').textContent = `$${tax.toFixed(2)}`;
            document.querySelector('.total').textContent = `$${total.toFixed(2)}`;
        }

        renderCart();
    </script>
</body>
</html>
